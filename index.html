<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BEAT FBIT - –ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background-color: #0d1117;
            color: #c9d1d9;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            overflow-x: hidden;
        }
        
        .game-area {
            width: 100%;
            max-width: 800px;
            background: #161b22;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #30363d;
        }
        
        .choices {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            justify-content: center;
        }
        
        .choice {
            width: 100px;
            height: 100px;
            border: 2px solid #30363d;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #0d1117;
        }
        
        .choice:hover {
            border-color: #58a6ff;
            transform: scale(1.05);
        }
        
        .choice.selected {
            border-color: #ffd33d;
            background: #1c2128;
        }
        
        .choice-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }
        
        button {
            background: #238636;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin: 20px 0;
        }
        
        button:hover {
            background: #2ea043;
        }
        
        .result {
            margin: 20px 0;
            padding: 15px;
            border-radius: 6px;
            background: #1c2128;
            min-height: 60px;
        }
        
        .sequence {
            font-family: monospace;
            background: #000;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            word-break: break-all;
        }
        
        .rule-item {
            margin: 10px 0;
            padding: 10px;
            background: #1c2128;
            border-radius: 6px;
        }
        
        .win { color: #3fb950; }
        .lose { color: #f85149; }
        .draw { color: #ffd33d; }
        
        .win-counter {
            background: #1c2128;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            text-align: center;
            border: 1px solid #30363d;
        }
        
        .win-streak {
            font-size: 18px;
            font-weight: bold;
            color: #ffd33d;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∞–ª—é—Ç–∞ */
        .firework {
            position: fixed;
            pointer-events: none;
            z-index: 1000;
        }
        
        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: explode 1.5s ease-out forwards;
        }
        
        @keyframes explode {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }
        
        .sequence-info {
            background: #1c2128;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            border: 1px solid #30363d;
        }
        
        .refresh-btn {
            background: #58a6ff;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            margin-left: 10px;
        }
        
        .refresh-btn:hover {
            background: #6ab0ff;
        }
        
        .restart-btn {
            background: #da3633;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            margin: 10px 0;
        }
        
        .restart-btn:hover {
            background: #f85149;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: #161b22;
            padding: 30px;
            border-radius: 10px;
            border: 2px solid #ffd33d;
            text-align: center;
            max-width: 500px;
            width: 90%;
        }
        
        .modal h2 {
            color: #ffd33d;
            margin-top: 0;
        }
        
        .modal-btn {
            background: #58a6ff;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin-top: 20px;
            text-decoration: none;
            display: inline-block;
        }
        
        .modal-btn:hover {
            background: #6ab0ff;
        }
    </style>
</head>
<body>
    <div class="game-area">
        <h1>üéÆ BEAT FBIT</h1>
        
        <div class="win-counter">
            <div>–°—á—ë—Ç—á–∏–∫ –ø–æ–±–µ–¥ –ø–æ–¥—Ä—è–¥:</div>
            <div class="win-streak" id="winStreak">0</div>
        </div>
        
        <div class="choices">
            <div class="choice" data-value="100">
                <div class="choice-icon">üïµÔ∏è</div>
                <div>–í–∑–ª–æ–º—â–∏–∫</div>
                <small></small>
            </div>
            <div class="choice" data-value="01">
                <div class="choice-icon">üõ°Ô∏è</div>
                <div>–ó–∞—â–∏—Ç–∞</div>
                <small></small>
            </div>
            <div class="choice" data-value="1100">
                <div class="choice-icon">üíä</div>
                <div>–£—è–∑–≤–∏–º–æ—Å—Ç—å</div>
                <small></small>
            </div>
        </div>
        
        <button id="playButton">üéØ –ò–≥—Ä–∞—Ç—å</button>
        
        <div class="result" id="result">
            –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –∏ –Ω–∞–∂–º–∏—Ç–µ "–ò–≥—Ä–∞—Ç—å"
        </div>
        
        <div class="sequence-info">
            <strong>–¢–µ–∫—É—â–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong>
            <button class="restart-btn" onclick="generateNewSequence()">üîÑ –†–µ—Å—Ç–∞—Ä—Ç</button>
        </div>
        
        <div class="sequence" id="sequenceDisplay">
            <strong>–ó–∞–≥—Ä—É–∑–∫–∞...</strong>
        </div>
        
        <div class="rules">
            <h3>–ü—Ä–∞–≤–∏–ª–∞:</h3>
            <ul>
                <li><strong>–í–∑–ª–æ–º—â–∏–∫ > –£—è–∑–≤–∏–º–æ—Å—Ç—å</strong>: –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç—å</li>
                <li><strong>–ó–∞—â–∏—Ç–∞ > –í–∑–ª–æ–º—â–∏–∫</strong>: –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞—Ç–∞–∫—É</li>
                <li><strong>–£—è–∑–≤–∏–º–æ—Å—Ç—å > –ó–∞—â–∏—Ç–∞</strong>: –£—è–∑–≤–∏–º–æ—Å—Ç—å –æ–±—Ö–æ–¥–∏—Ç –∑–∞—â–∏—Ç—É</li>
            </ul>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è 5 –ø–æ–±–µ–¥ -->
    <div class="modal" id="winModal">
        <div class="modal-content">
            <h2>üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üéâ</h2>
            <p>–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ 5 –ø–æ–±–µ–¥ –ø–æ–¥—Ä—è–¥!</p>
            <p>–í—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∏ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ –ø–æ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!</p>
            <a href="https://t.me/fbit_unior" target="_blank" class="modal-btn">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞–Ω–∞–ª FBIT</a>
            <button class="restart-btn" onclick="closeModal()" style="margin-left: 10px;">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É</button>
        </div>
    </div>

    <script>
        let botSequence = "";
        let sequenceIndex = 0;
        let winStreak = 0;
        
        // –ö–æ–¥—ã –∏ –∏—Ö –¥–ª–∏–Ω—ã
        const codes = [
            { value: '100', length: 3 },
            { value: '01', length: 2 },
            { value: '1100', length: 4 }
        ];
        
        // –õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
        const gameLogic = {
            '100-1100': 'win',   // –í–∑–ª–æ–º—â–∏–∫ > –£—è–∑–≤–∏–º–æ—Å—Ç—å
            '100-01': 'lose',    // –í–∑–ª–æ–º—â–∏–∫ < –ó–∞—â–∏—Ç–∞
            '01-100': 'win',     // –ó–∞—â–∏—Ç–∞ > –í–∑–ª–æ–º—â–∏–∫
            '01-1100': 'lose',   // –ó–∞—â–∏—Ç–∞ < –£—è–∑–≤–∏–º–æ—Å—Ç—å
            '1100-01': 'win',    // –£—è–∑–≤–∏–º–æ—Å—Ç—å > –ó–∞—â–∏—Ç–∞
            '1100-100': 'lose',  // –£—è–∑–≤–∏–º–æ—Å—Ç—å < –í–∑–ª–æ–º—â–∏–∫
            // –ù–∏—á—å–∏
            '100-100': 'draw',
            '01-01': 'draw',
            '1100-1100': 'draw'
        };
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        function generateRandomSequence(length = 10) {
            let sequence = "";
            let totalSymbols = 0;
            
            while (totalSymbols < length) {
                // –°–ª—É—á–∞–π–Ω–æ –≤—ã–±–∏—Ä–∞–µ–º –∫–æ–¥
                const randomCode = codes[Math.floor(Math.random() * codes.length)];
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –ø—Ä–µ–≤—ã—Å–∏–º –ª–∏ –º—ã –ª–∏–º–∏—Ç —Å–∏–º–≤–æ–ª–æ–≤
                if (totalSymbols + 1 <= length) {
                    sequence += randomCode.value;
                    totalSymbols++;
                } else {
                    break;
                }
            }
            
            return sequence;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
        function displaySequence(sequence) {
            const sequenceDisplay = document.getElementById('sequenceDisplay');
            let highlightedSequence = "";
            let i = 0;
            
            while (i < sequence.length) {
                let found = false;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–¥—ã
                for (const code of codes) {
                    if (sequence.startsWith(code.value, i)) {
                        highlightedSequence += `<span style="color: #58a6ff; font-weight: bold;">${code.value}</span>`;
                        i += code.value.length;
                        found = true;
                        break;
                    }
                }
                
                // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∫–æ–¥, –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ–º —Å–∏–º–≤–æ–ª
                if (!found) {
                    highlightedSequence += sequence[i];
                    i++;
                }
            }
            
            sequenceDisplay.innerHTML = `<strong>${highlightedSequence}</strong>`;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        function generateNewSequence() {
            botSequence = generateRandomSequence(10);
            sequenceIndex = 0;
            displaySequence(botSequence);
            
            // –°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–∞ –ø–æ–±–µ–¥ –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ
            winStreak = 0;
            document.getElementById('winStreak').textContent = winStreak;
            
            // –û—á–∏—Å—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            document.getElementById('result').innerHTML = '–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –∏ –Ω–∞–∂–º–∏—Ç–µ "–ò–≥—Ä–∞—Ç—å"';
            
            // –°–±—Ä–æ—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
            document.querySelectorAll('.choice').forEach(c => c.classList.remove('selected'));
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∞–ª—é—Ç–∞
        function createFirework(x, y) {
            const firework = document.createElement('div');
            firework.className = 'firework';
            firework.style.left = x + 'px';
            firework.style.top = y + 'px';
            
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ffffff'];
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const angle = Math.random() * Math.PI * 2;
                const distance = 50 + Math.random() * 100;
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;
                
                particle.style.setProperty('--tx', tx + 'px');
                particle.style.setProperty('--ty', ty + 'px');
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                firework.appendChild(particle);
            }
            
            document.body.appendChild(firework);
            
            // –£–¥–∞–ª—è–µ–º —Å–∞–ª—é—Ç –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => {
                firework.remove();
            }, 1500);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∞–ª—é—Ç–∞ –ø—Ä–∏ 5 –ø–æ–±–µ–¥–∞—Ö
        function celebrateWinStreak() {
            // –°–∞–ª—é—Ç —Å –ª–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    createFirework(100, 100 + i * 150);
                }, i * 300);
            }
            
            // –°–∞–ª—é—Ç —Å –ø—Ä–∞–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    createFirework(window.innerWidth - 100, 100 + i * 150);
                }, i * 300 + 150);
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            setTimeout(() => {
                document.getElementById('winModal').style.display = 'flex';
            }, 1000);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function closeModal() {
            document.getElementById('winModal').style.display = 'none';
        }

        // –õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã
        document.querySelectorAll('.choice').forEach(choice => {
            choice.addEventListener('click', () => {
                document.querySelectorAll('.choice').forEach(c => c.classList.remove('selected'));
                choice.classList.add('selected');
            });
        });

        document.getElementById('playButton').addEventListener('click', () => {
            const selectedChoice = document.querySelector('.choice.selected');
            if (!selectedChoice) {
                alert('–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç!');
                return;
            }

            const playerChoice = selectedChoice.dataset.value;
            
            // –ü–æ–ª—É—á–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —Ö–æ–¥ –±–æ—Ç–∞ –∏–∑ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
            let botChoice = '';
            let i = sequenceIndex;
            while (i < botSequence.length) {
                if (botSequence.startsWith('100', i)) {
                    botChoice = '100';
                    break;
                } else if (botSequence.startsWith('01', i)) {
                    botChoice = '01';
                    break;
                } else if (botSequence.startsWith('1100', i)) {
                    botChoice = '1100';
                    break;
                }
                i++;
            }
            
            sequenceIndex = i + botChoice.length;
            
            // –ï—Å–ª–∏ –¥–æ—à–ª–∏ –¥–æ –∫–æ–Ω—Ü–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –Ω–∞—á–∏–Ω–∞–µ–º —Å–Ω–∞—á–∞–ª–∞
            if (sequenceIndex >= botSequence.length) {
                sequenceIndex = 0;
            }

            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ–≥–∏–∫–∏ –∏–≥—Ä—ã
            const key = `${playerChoice}-${botChoice}`;
            const result = gameLogic[key] || 'draw';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á—ë—Ç—á–∏–∫ –ø–æ–±–µ–¥
            if (result === 'win') {
                winStreak++;
            } else {
                winStreak = 0; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø—Ä–∏ –Ω–∏—á—å–µ–π –∏–ª–∏ –ø—Ä–æ–∏–≥—Ä—ã—à–µ
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞
            document.getElementById('winStreak').textContent = winStreak;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ 5 –ø–æ–±–µ–¥ –ø–æ–¥—Ä—è–¥
            if (winStreak === 5) {
                celebrateWinStreak();
            }
            
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `
                <strong>–í—ã:</strong> ${getChoiceName(playerChoice)} <br>
                <strong>–ë–æ—Ç:</strong> ${getChoiceName(botChoice)} <br><br>
                <span class="${result}">${getResultText(result).toUpperCase()}</span>
                ${winStreak >= 3 ? `<br><small>–°–µ—Ä–∏—è –ø–æ–±–µ–¥: ${winStreak}</small>` : ''}
            `;
        });

        function getChoiceName(code) {
            return {
                '100': '–í–∑–ª–æ–º—â–∏–∫ üïµÔ∏è',
                '01': '–ó–∞—â–∏—Ç–∞ üõ°Ô∏è',
                '1100': '–£—è–∑–≤–∏–º–æ—Å—Ç—å üíä'
            }[code];
        }
        
        function getResultText(result) {
            return {
                'win': '–ü–æ–±–µ–¥–∏–ª –ò–≥—Ä–æ–∫',
                'lose': '–ü–æ–±–µ–¥–∏–ª –ë–æ—Ç',
                'draw': '–ù–∏—á—å—è'
            }[result];
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        generateNewSequence(); // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
    </script>
</body>
</html>
